PHP进阶之数据库设计
=======

##第五节 常见的表结构  

**引言**

当给我们一个需求的时候，我们肯定会存在多种设计。那么设计方案肯定存在有多种。比如有一张表：

>> create table book (  
> book_id int,  
> class_id int,  
> book_name varchar(150),  
> ....

那么，如果有一个新的需要：查询某个分类下的所有图书，那么该怎么查询？

>> select ... from book where class_id = %d;

上面的查询可以满足需求（当然需要一定的索引），那么如果这类需求越来越多的时候，是要给每个查询都要加索引？

另外，这个表应该怎么理解，它表示一个所有book的属性，还是，属性+查询的混合体？

**以题目为开始（同样也是个面试题）**

做一个关于图书的项目，其中有：  

1. 书（book）
2. 分类（class）

每本书又有借阅次数（num_of_borrow）、点击次数（num_of_click），并希望根据这个做排序；

要求如下：

1. 根据书的id查到某本书
2. 根据分类的id，查到该分类的信息（点击次数、分类下的图书量）
3. 根据分类的id，查该分类下的图书，并可以按点击次数、借阅次数排序

上面的问题如何设计？

**做法一**

优点：

缺点：

**做法二**

优点：

缺点：

**问答**